<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aapani Cha - MOQ Dynamic</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html,body{margin:0;padding:0;overflow-x:hidden;}
    .lop2{border-radius:15px;height:50px;margin:15px;width:20pc;background-color:#333;color:#fff;}
    .lop2:hover{border:1px solid;border-radius:15px;color:#333;background-color:#fff;}
    #qtyControl button{width:40px;height:40px;font-size:20px;font-weight:bold;border:none;border-radius:10px;background-color:#f59e0b;color:white;cursor:pointer;}
    #qtyControl button:hover{background-color:#d97706;}
    #qtyDisplay{font-size:20px;font-weight:bold;margin:0 10px;}
  </style>
</head>

<body class="bg-gray-100">

  <section class="max-w-7xl mx-auto p-4 grid grid-cols-1 md:grid-cols-2 gap-6 bg-white rounded-lg shadow-lg">

    <div class="relative flex-1">
      <img id="mainImage" src="WhatsApp Image 2025-09-23 at 22.25.59_23fc4ec5.jpg" class="w-full h-full object-cover rounded-lg">
    </div>

    <div class="flex flex-col justify-center">
      <h1 class="text-3xl font-bold mb-2">Aapani Cha Premium Gold Tea</h1>
      <p class="text-gray-600 mb-4">Brand: Aapni Cha.</p>

      <span id="productPrice" class="text-2xl font-semibold text-green-600 mb-4 block">‚Çπ5100.00</span>

      <!-- ‚úÖ MOQ Control -->
      <div id="qtyControl" class="flex items-center gap-3 mb-4">
        <button id="decreaseBtn">-</button>
        <span id="qtyDisplay">15</span>
        <button id="increaseBtn">+</button>
        <span class="text-gray-600 ml-2">packs</span>
      </div>

      <button class="lop2" id="buyNowBtn" onclick="openLoginForm()">BUY NOW</button>
      <button class="lop2" onclick="window.location.href='about.html'">Rating & Review</button>
    </div>
  </section>

  <!-- ‚úÖ Overlay -->
  <div class="overlay fixed inset-0 bg-black bg-opacity-50 hidden z-40" id="loginOverlay"></div>

  <!-- ‚úÖ Popup -->
  <div class="popup fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
              bg-white p-6 rounded-lg shadow-lg w-96 hidden z-50 
              max-h-[90vh] overflow-y-auto" id="loginPopup">

    <h3 class="text-xl font-bold mb-4">Enter your Details</h3>
    <form id="loginForm" class="space-y-3">
      <input type="text" id="loginName" placeholder="Enter your name" class="w-full border p-2 rounded" required>
      <input type="tel" id="loginPhone" placeholder="Enter your phone number" class="w-full border p-2 rounded" required>
      <input type="text" id="loginState" placeholder="Enter your State" class="w-full border p-2 rounded" required>
      <input type="text" id="loginCity" placeholder="Enter your City" class="w-full border p-2 rounded" required>
      <input type="text" id="loginFlat" placeholder="Flat / Apartment No." class="w-full border p-2 rounded" required>
      <input type="text" id="loginAddress" placeholder="Enter your full address" class="w-full border p-2 rounded" required minlength="15">
      <input type="text" id="loginProduct" class="w-full border p-2 rounded bg-gray-100" readonly>
      <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg font-semibold">
        Send Details to WhatsApp
      </button>
    </form>

    <p class="text-gray-500 text-sm mt-2 text-center">‡§Æ‡•à‡§∏‡•á‡§ú ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ payment QR ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ</p>

    <!-- ‚úÖ Payment Section -->
    <div id="paymentSection" class="mt-6 bg-gray-50 p-4 rounded-lg shadow-inner hidden">
      <h3 class="text-lg font-bold text-gray-700 mb-2 text-center">Payment Options</h3>
      <p class="text-gray-600 text-sm text-center mb-3">PhonePe / Google Pay ‡§∏‡•á ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç</p>
      <div class="flex justify-center gap-6 flex-wrap">
        <div class="qr text-center">
          <img id="qrImage" width="200" alt="UPI QR Code">
          <p class="text-sm mt-1">Tap QR to open UPI app</p>
        </div>
      </div>
      <p class="text-gray-500 text-sm mt-2 text-center">
        UPI Id - vardayinitea.316@idfcbank
      </p>
    </div>
  </div>

  <script>
    // ‚úÖ MOQ Logic
    let qty = 15;
    const pricePerPack = 340;
    const qtyDisplay = document.getElementById("qtyDisplay");
    const productPrice = document.getElementById("productPrice");

    function updatePrice() {
      const total = qty * pricePerPack;
      productPrice.textContent = `‚Çπ${total.toLocaleString()}.00`;
    }

    document.getElementById("decreaseBtn").addEventListener("click", () => {
      if (qty > 15) {
        qty--;
        qtyDisplay.textContent = qty;
        updatePrice();
      }
    });

    document.getElementById("increaseBtn").addEventListener("click", () => {
      if (qty < 30) {
        qty++;
        qtyDisplay.textContent = qty;
        updatePrice();
      }
    });

    updatePrice(); // initial

    // ‚úÖ Popup
    function openLoginForm() {
      document.getElementById("loginOverlay").classList.remove("hidden");
      document.getElementById("loginPopup").classList.remove("hidden");
      const total = qty * pricePerPack;
      document.getElementById("loginProduct").value = `Aapani Cha Premium Gold Tea - ${qty} Packs (‚Çπ${total})`;
    }

    function closeLoginForm() {
      document.getElementById("loginOverlay").classList.add("hidden");
      document.getElementById("loginPopup").classList.add("hidden");
    }

    document.getElementById("loginOverlay").addEventListener("click", closeLoginForm);

    // ‚úÖ WhatsApp + QR Logic
    document.getElementById("loginForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const name = document.getElementById('loginName').value.trim();
      const phone = document.getElementById('loginPhone').value.trim();
      const state = document.getElementById('loginState').value.trim();
      const city = document.getElementById('loginCity').value.trim();
      const flat = document.getElementById('loginFlat').value.trim();
      const address = document.getElementById('loginAddress').value.trim();
      const product = document.getElementById('loginProduct').value.trim();

      const totalAmount = qty * pricePerPack;

      const whatsappNumber = '918200942931';
      const message =
        `üõí *New Order Details* üõí\n\n` +
        `üë§ Name: ${name}\nüìû Phone: ${phone}\nüè† State: ${state}\nüèô City: ${city}\nüè¢ Flat/Apt No.: ${flat}\nüìç Address: ${address}\nüì¶ Product: ${product}`;
      const encodedMessage = encodeURIComponent(message);
      const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
      window.open(whatsappURL, '_blank');

      // ‚úÖ Dynamic QR
      const qrLink = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=vardayinitea.316@idfcbank&pn=Aapani+Cha&am=${totalAmount}&cu=INR&tn=Tea+Order`;
      const qrImage = document.getElementById("qrImage");
      qrImage.src = qrLink;
      qrImage.onclick = () => window.location.href = `upi://pay?pa=vardayinitea.316@idfcbank&pn=Aapani+Cha&am=${totalAmount}&cu=INR&tn=Tea+Order`;

      document.getElementById("paymentSection").classList.remove("hidden");
    });
  </script>
</body>
</html>
